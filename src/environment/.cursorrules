# Environment System Guidelines for AI Assistant

## Environment Overview
The environment directory contains components for creating and managing the game world:
- Procedural generation systems
- Terrain and landscape features
- Atmospheric effects
- Lighting systems
- Background elements (stars, nebulae, etc.)
- Environmental hazards

## Environment Architecture
- SceneManager: Manages the overall scene configuration
- EnvironmentGenerator: Creates procedural environments
- AtmosphericEffects: Handles visual atmospheric elements
- LightingSystem: Manages dynamic lighting and shadows
- BackgroundSystem: Handles distant, non-interactive elements

## Procedural Generation Guidelines
- Use seedable random number generators for reproducible results
- Implement multiple levels of detail for progressive generation
- Balance between runtime generation and pre-computed elements
- Use noise functions (Perlin, Simplex) for natural-looking results
- Cache generated elements when appropriate

## Lighting Best Practices
- Use appropriate light types for the situation:
  - Directional lights for sun/distant sources
  - Point lights for local illumination
  - Spot lights for focused effects
- Implement dynamic shadow mapping efficiently
- Use baked lighting for static elements when possible
- Consider light probes for global illumination approximation
- Optimize light count and complexity based on device capability

## Performance Considerations
- Implement distance-based level of detail
- Use instancing for repeated environmental elements
- Apply proper culling techniques for large environments
- Stream environment data for large worlds
- Consider using impostors for distant complex objects

## Weather and Environmental Effects
- Implement scalable particle systems for effects
- Use shader-based effects when appropriate
- Apply post-processing for atmospheric scattering
- Design modular effect systems that can be combined
- Consider performance impact of combined effects

## Interactivity
- Define clear interfaces for entity-environment interaction
- Implement environmental physics (wind, gravity fields, etc.)
- Use events to communicate environment changes
- Consider environmental storytelling elements
- Implement sound design that reflects the environment 